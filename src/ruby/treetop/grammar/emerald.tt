#!/usr/bin/env ruby

grammar Emerald
  include Tokens

  rule main
    (nested / list / line / newline)* / newline
  end

  rule nested
    tag newline indent (nested / line)?
  end

  rule line
    tag space tag
  end

  rule indent
    (space space)+
  end

  rule list
    tag space* lparen newline attribute* rparen
  end

  rule attribute
    space* attr space* equals space* string newline
  end
end
